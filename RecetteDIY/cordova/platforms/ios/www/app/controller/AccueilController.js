Ext.define("RecetteDIY.controller.AccueilController",{extend:"Ext.app.Controller",config:{},init:function(){},loadAdvertise:function(){var a=Ext.getStore("adsstore");a.load({callback:function(c,b,e){myCarousel=Ext.getCmp("pub-image-list");myCarousel.setHtml("");for(var d=0;d<c.length;d++){myCarousel.add({html:'<img class= "advertise-image" data-index ='+d+" src="+c[d].data.thumbnail_url+">"})}},scope:this})},bindClick:function(){$(".advertise-image").each(function(a){$(this).on("click",function(){var b=$(this).data("index");RecetteDIY.app.getController("AccueilController").displayAdsDetail(b)})})},unbindClick:function(){$(".advertise-image").unbind("click")},displayAdsDetail:function(b){var a=Ext.getStore("adsstore");var c=a.getAt(b);var d=c.data.title;Ext.getCmp("accueil_navigation_view").push({xtype:"pubdetailview",title:d,record:c})},displayPupularPlats:function(b){var a=Ext.getStore("platstore");a.clearFilter();a.filter("popular","Yes")},displayPlats:function(b){var a=Ext.getStore("platstore");a.clearFilter();a.filter([{filterFn:function(c){if(c.get("type")!=null){return c.get("type").indexOf("Plat")>-1}else{return true}}}])},displayEntre:function(b){var a=Ext.getStore("platstore");a.clearFilter();a.filter([{filterFn:function(c){if(c.get("type")!=null){return c.get("type").indexOf("Entre")>-1}else{return true}}}])},displayDessert:function(b){var a=Ext.getStore("platstore");a.clearFilter();a.filter([{filterFn:function(c){if(c.get("type")!=null){return c.get("type").indexOf("Dessert")>-1}else{return true}}}])},displayAutre:function(b){var a=Ext.getStore("platstore");a.clearFilter();a.filter([{filterFn:function(c){if(c.get("type")!=null){return c.get("type").indexOf("Others")>-1}else{return true}}}])}});